{% extends "base.html" %}

{% load formset_tags %}

{% block title %} Curso Extensao {% endblock%}

{% block content %}

	{% load static %}
	<script src="{% static 'js/jquery.js' %}"></script>
	<script src="{% static 'js/jquery.formset.js' %}"></script>

	<h1 style="text-align:center;">Curso Extensao</h1>

	<form data-abide novalidate method="post">
		{% csrf_token %}
		<div data-abide-error class="alert callout" style="display: none;">
			<p><i class="fi-alert"></i>There are some errors in your form.</p>
		</div>
		<div class="row">
			<div class="small-12 columns">
				{{ main_form }}
				<hr/>
				<h3>Palavras-Chave</h3>
				<div class="medium-3 columns">
					<label>Palavra-chave</label>
				</div>
				<div class="medium-1 columns">
					{% if palavras_formset.can_delete %}
						<label>Deletar</label>
					{% endif %}
				</div>
				<div class="medium-3 columns">
					<label>Palavra-chave</label>
				</div>
				<div class="medium-1 columns">
					{% if palavras_formset.can_delete %}
						<label>Deletar</label>
					{% endif %}
				</div>
				<div class="{% if palavras_formset.can_delete %}medium-3{% else %}medium-4{% endif %} columns">
					<label>Palavra-chave</label>
				</div>
				{% if palavras_formset.can_delete %}
					<div class="medium-1 columns">
						<label>Deletar</label>
					</div>
				{% endif %}
				{{ palavras_formset.management_form }}
				{% for form in palavras_formset %}
					<div class="medium-3 columns">
						{{ form.nome }}
					</div>
					<div class="medium-1 columns">
						{% if palavras_formset.can_delete %}
							{{ form.DELETE }}
						{% endif %}
					</div>
				{% endfor %}
				<hr />

				<h3>Servidores</h3>
				<div class="medium-4 columns">
					<label>Servidor</label>
				</div>
				<div class="medium-4 columns">
					<label>Função</label>
				</div>
				<div class="medium-3 columns">
					<label>Carga horária dedicada</label>
				</div>
				<div class="medium-1 columns">
					{% if servidores_formset.can_delete %}
						<label>Deletar</label>
					{% endif %}
				</div>
				<div id="servidores_formset" data-formset-prefix="{{ servidores_formset.prefix }}">
					{{ servidores_formset.management_form }}
					<div data-formset-body>
						{% for form in servidores_formset %}
							<div data-formset-form>
								<div class="medium-4 columns">
									{{ form.servidor }}
								</div>
								<div class="medium-4 columns">
									{{ form.funcao }}
								</div>
								<div class="medium-3 columns">
									{{ form.carga_horaria_dedicada }}
								</div>
								<div class="medium-1 columns">
									{% if servidores_formset.can_delete %}
										{{ form.DELETE }}
									{% endif %}
								</div>
							</div>
						{% endfor %}
					</div>
					<script type="form-template" data-formset-empty-form>
						{% escapescript %}
							<div data-formset-form>
								<div class="medium-4 columns">
									{{ servidores_formset.empty_form.servidor }}
								</div>
								<div class="medium-4 columns">
									{{ servidores_formset.empty_form.funcao }}
								</div>
								<div class="medium-3 columns">
									{{ servidores_formset.empty_form.carga_horaria_dedicada }}
								</div>
								<div class="medium-1 columns">
									{% if servidores_formset.can_delete %}
										{{ servidores_formset.empty_form.DELETE }}
									{% endif %}
								</div>
							</div>
						{% endescapescript %}
					</script>
					<div class="medium-12 columns">
						<input class="button" type="button" value="Adicionar servidor" data-formset-add>
					</div>
				</div>
				<hr/>

				<h3>Discentes</h3>
				<div id="discentes_formset" data-formset-prefix="{{ discentes_formset.prefix }}">
					{{ discentes_formset.management_form }}
					<div data-formset-body>
						{% for form in discentes_formset %}
							<div data-formset-form>
								<div class="row" style="background:#FEF; padding:10px;">
									<div class="medium-1 columns">
										<label>Nome</label>
									</div>
									<div class="medium-11 columns">
										{{ form.nome }}
									</div>
									<div class="medium-1 columns">
										<label>Curso</label>
									</div>
									<div class="medium-3 columns">
										{{ form.curso }}
									</div>
									<div class="medium-1 columns">
										<label>Série</label>
									</div>
									<div class="medium-1 columns">
										{{ form.serie }}
									</div>
									<div class="medium-1 columns">
										<label>Turno</label>
									</div>
									<div class="medium-2 columns">
										{{ form.turno }}
									</div>
									<div class="medium-2 columns">
										<label>C/H semanal</label>
									</div>
									<div class="medium-1 columns">
										{{ form.carga_horaria_semanal }}
									</div>
									<div class="medium-1 columns">
										<label>Telefone</label>
									</div>
									<div class="medium-3 columns">
										{{ form.telefone }}
									</div>
									<div class="medium-1 columns">
										<label>Email</label>
									</div>
									<div class="medium-5 columns">
										{{ form.email }}
									</div>
									{% if discentes_formset.can_delete %}
										<div class="medium-1 columns">
											<label>Deletar</label>
										</div>
										<div class="medium-1 columns">
											{{ form.DELETE }}
										</div>
									{% endif %}
								</div>
								<br/>
							</div>
						{% endfor %}
					</div>
					<script type="form-template" data-formset-empty-form>
						{% escapescript %}
							<div data-formset-form>
								<div class="row" style="background:#FEF; padding:10px;">
									<div class="medium-1 columns">
										<label>Nome</label>
									</div>
									<div class="medium-11 columns">
										{{ discentes_formset.empty_form.nome }}
									</div>
									<div class="medium-1 columns">
										<label>Curso</label>
									</div>
									<div class="medium-3 columns">
										{{ discentes_formset.empty_form.curso }}
									</div>
									<div class="medium-1 columns">
										<label>Série</label>
									</div>
									<div class="medium-1 columns">
										{{ discentes_formset.empty_form.serie }}
									</div>
									<div class="medium-1 columns">
										<label>Turno</label>
									</div>
									<div class="medium-2 columns">
										{{ discentes_formset.empty_form.turno }}
									</div>
									<div class="medium-2 columns">
										<label>C/H semanal</label>
									</div>
									<div class="medium-1 columns">
										{{ discentes_formset.empty_form.carga_horaria_semanal }}
									</div>
									<div class="medium-1 columns">
										<label>Telefone</label>
									</div>
									<div class="medium-3 columns">
										{{ discentes_formset.empty_form.telefone }}
									</div>
									<div class="medium-1 columns">
										<label>Email</label>
									</div>
									<div class="medium-5 columns">
										{{ discentes_formset.empty_form.email }}
									</div>
									{% if discentes_formset.can_delete %}
										<div class="medium-1 columns">
											<label>Deletar</label>
										</div>
										<div class="medium-1 columns">
											{{ discentes_formset.empty_form.DELETE }}
										</div>
									{% endif %}
								</div>
								<br/>
							</div>
						{% endescapescript %}
					</script>
					<div class="medium-12 columns">
						<input class="button" type="button" value="Adicionar discente" data-formset-add>
					</div>
				</div>
				<hr/>

				<h3>Membros da Comunidade / Participantes Externos</h3>
				<div id="membros_comunidade_formset" data-formset-prefix="{{ membros_comunidade_formset.prefix }}">
					{{ membros_comunidade_formset.management_form }}
					<div data-formset-body>
						{% for form in membros_comunidade_formset %}
							<div data-formset-form>
								<div class="row" style="background:#FEF; padding:10px;">
									<div class="medium-1 columns">
										<label>Nome</label>
									</div>
									<div class="medium-8 columns">
										{{ form.nome }}
									</div>
									<div class="medium-2 columns">
										<label>C/H semanal</label>
									</div>
									<div class="medium-1 columns">
										{{ form.carga_horaria_semanal }}
									</div>
									<div class="medium-1 columns">
										<label>Entidade</label>
									</div>
									<div class="medium-11 columns">
										{{ form.entidade }}
									</div>
									<div class="medium-1 columns">
										<label>Telefone</label>
									</div>
									<div class="medium-5 columns">
										{{ form.telefone }}
									</div>
									<div class="medium-1 columns">
										<label>Email</label>
									</div>
									<div class="medium-5 columns">
										{{ form.email }}
									</div>
									<div class="medium-1 columns">
										<label>CPF</label>
									</div>
									<div class="medium-5 columns">
										{{ form.cpf }}
									</div>
									<div class="medium-3 columns">
										<label>Data de nascimento</label>
									</div>
									<div class="medium-3 columns">
										{{ form.data_nascimento }}
									</div>
									<div class="medium-1 columns">
										<label>Função</label>
									</div>
									<div class="medium-9 columns">
										{{ form.funcao }}
									</div>
									{% if membros_comunidade_formset.can_delete %}
										<div class="medium-1 columns">
											<label>Deletar</label>
										</div>
										<div class="medium-1 columns">
											{{ form.DELETE }}
										</div>
									{% endif %}
								</div>
								<br/>
							</div>
						{% endfor %}
					</div>
					<script type="form-template" data-formset-empty-form>
						{% escapescript %}
							<div data-formset-form>
								<div class="row" style="background:#FEF; padding:10px;">
									<div class="medium-1 columns">
										<label>Nome</label>
									</div>
									<div class="medium-8 columns">
										{{ membros_comunidade_formset.empty_form.nome }}
									</div>
									<div class="medium-2 columns">
										<label>C/H semanal</label>
									</div>
									<div class="medium-1 columns">
										{{ membros_comunidade_formset.empty_form.carga_horaria_semanal }}
									</div>
									<div class="medium-1 columns">
										<label>Entidade</label>
									</div>
									<div class="medium-11 columns">
										{{ membros_comunidade_formset.empty_form.entidade }}
									</div>
									<div class="medium-1 columns">
										<label>Telefone</label>
									</div>
									<div class="medium-5 columns">
										{{ membros_comunidade_formset.empty_form.telefone }}
									</div>
									<div class="medium-1 columns">
										<label>Email</label>
									</div>
									<div class="medium-5 columns">
										{{ membros_comunidade_formset.empty_form.email }}
									</div>
									<div class="medium-1 columns">
										<label>CPF</label>
									</div>
									<div class="medium-5 columns">
										{{ membros_comunidade_formset.empty_form.cpf }}
									</div>
									<div class="medium-3 columns">
										<label>Data de nascimento</label>
									</div>
									<div class="medium-3 columns">
										{{ membros_comunidade_formset.empty_form.data_nascimento }}
									</div>
									<div class="medium-1 columns">
										<label>Função</label>
									</div>
									<div class="medium-9 columns">
										{{ membros_comunidade_formset.empty_form.funcao }}
									</div>
									{% if membros_comunidade_formset.can_delete %}
										<div class="medium-1 columns">
											<label>Deletar</label>
										</div>
										<div class="medium-1 columns">
											{{ membros_comunidade_formset.empty_form.DELETE }}
										</div>
									{% endif %}
								</div>
								<br/>
							</div>
						{% endescapescript %}
					</script>
					<div class="medium-12 columns">
						<input class="button" type="button" value="Adicionar membro da comunidade" style="width:300px;" data-formset-add>
					</div>
				</div>
			</div>
		</div>
		<div style="text-align:center;">
			<input type="submit" value="Salvar" class="button">
		</div>
		<br />
	</form>

	<script>
		jQuery(function($) {
			$("#servidores_formset").formset({});
			$("#discentes_formset").formset({});
			$("#membros_comunidade_formset").formset({});
		});
	</script>
{% endblock %}
